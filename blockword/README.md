# blockword

屏蔽字

## 简介
提供两份字库文件
- words_normal.txt
输入字符串含有任一子串，视为非法
- words_regexp.txt
输入字符串与任一子串正则匹配，视为非法

## 实现逻辑
- 加载words_normal.txt（words_normal.txt.bk为原文件）

  判断内容是否可以转为规则的json数据，是则加载完毕
  
  否则读取每一行，按UTF8字数进行分类整理，并对长字数词去重（这一步处理耗时20S，因此做了一份json缓存覆盖源文件）
  
- 加载words_regexp.txt
  
  按行生成一个正则表达式
  
- 输入字符串，获取所有子串

- 遍历子串，依次匹配normal和正则


## 优化点

- 第三步，目前是先获取所有子串，这部分有点耗时，

  是否可以优化为一边获取子串，一边校验

  
  
  
  


